{"version":3,"sources":["../src/datalist.js"],"names":["DataList","containerId","inputId","listId","options","filter","list","document","getElementById","filterOptions","d","text","toLowerCase","replace","includes","length","classList","remove","add","innerHTML","map","o","value","join","datalist","container","input","addEventListener","e","target","id","toggle","focus","contains","create","nodeName","toLocaleLowerCase","innerText","removeEventListener"],"mappings":"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","file":"datalist.js","sourcesContent":["export class DataList {\n\tconstructor(containerId, inputId, listId, options) {\n\t\tthis.containerId = containerId;\n\t\tthis.inputId = inputId;\n\t\tthis.listId = listId;\n\t\tthis.options = options;\n\t}\n\n\tcreate(filter = '') {\n\t\tconst list = document.getElementById(this.listId);\n\t\tconst filterOptions = this.options.filter(\n\t\t\t(d) =>\n\t\t\t\tfilter === '' || d.text.toLowerCase().replace(/ /g, '').includes(filter.toLowerCase().replace(/ /g, ''))\n\t\t);\n\n\t\tif (filterOptions.length === 0) {\n\t\t\tlist.classList.remove('active');\n\t\t} else {\n\t\t\tlist.classList.add('active');\n\t\t}\n\n\t\tlist.innerHTML = filterOptions.map((o) => `<li id=${o.value}>${o.text}</li>`).join('');\n\t}\n\n\taddListeners(datalist) {\n\t\tconst container = document.getElementById(this.containerId);\n\t\tconst input = document.getElementById(this.inputId);\n\t\tconst list = document.getElementById(this.listId);\n\n\t\tcontainer.addEventListener('click', (e) => {\n\t\t\tif (e.target.id === this.inputId) {\n\t\t\t\tcontainer.classList.toggle('active');\n\t\t\t} else if (e.target.id === 'datalist-icon') {\n\t\t\t\tcontainer.classList.toggle('active');\n\t\t\t\tinput.focus();\n\t\t\t}\n\t\t});\n\n\t\tinput.addEventListener('input', function(e) {\n\t\t\tif (!container.classList.contains('active')) {\n\t\t\t\tcontainer.classList.add('active');\n\t\t\t}\n\t\t\tdatalist.create(input.value);\n\t\t});\n\n\t\tlist.addEventListener('click', function(e) {\n\t\t\tif (e.target.nodeName.toLocaleLowerCase() === 'li') {\n\t\t\t\tinput.value = e.target.innerText;\n\t\t\t\tcontainer.classList.remove('active');\n\t\t\t}\n\t\t});\n\t}\n\n\tremoveListeners() {\n\t\tconst container = document.getElementById(this.containerId);\n\t\tconst input = document.getElementById(this.inputId);\n\t\tconst list = document.getElementById(this.listId);\n\n\t\tcontainer.removeEventListener('click', (e) => {\n\t\t\tif (e.target.id === this.inputId) {\n\t\t\t\tcontainer.classList.toggle('active');\n\t\t\t} else if (e.target.id === 'datalist-icon') {\n\t\t\t\tcontainer.classList.toggle('active');\n\t\t\t\tinput.focus();\n\t\t\t}\n\t\t});\n\n\t\tinput.removeEventListener('input', function(e) {\n\t\t\tif (!container.classList.contains('active')) {\n\t\t\t\tcontainer.classList.add('active');\n\t\t\t}\n\t\t\tdatalist.create(input.value);\n\t\t});\n\n\t\tlist.removeEventListener('click', function(e) {\n\t\t\tif (e.target.nodeName.toLocaleLowerCase() === 'li') {\n\t\t\t\tinput.value = e.target.innerText;\n\t\t\t\tcontainer.classList.remove('active');\n\t\t\t}\n\t\t});\n\t}\n}\n"]}